!function (e) { e.fn.freshslider = function (t) { var s = this, i = void 0 !== t.range && t.range, a = !i, l = t.min || 0, n = (t.max || 100) - l, f = t.step || 1, d = t.unit || "", r = void 0 === t.enabled || t.enabled, u = [0, 1], v = void 0 === t.text || t.text, o = null; if (n < 0) throw new Error; var c, h = null; !0 === ((c = t.onchange) && "[object Function]" == Object.prototype.toString.call(c)) && (h = t.onchange); var g = "" + f, m = 0; g.indexOf(".") >= 0 && (m = g.length - g.indexOf(".") - 1), t.hasOwnProperty("value") ? a ? u[1] = (t.value - l) / n : t.value.length && 2 == t.value.length && (u[0] = (t.value[0] - l) / n, u[1] = (t.value[1] - l) / n) : a && (u[1] = .5), o = i ? this.html("<div class='fsslider'><div class='fsfull-value'></div><div class='fssel-value'></div><div class='fscaret fss-left'></div><div class='fscaret fss-right'></div></div>").find(".fsslider") : this.html("<div class='fsslider'><div class='fsfull-value'></div><div class='fssel-value'></div><div class='fscaret'></div></div>").find(".fsslider"); var p = e(this.find(".fscaret")[0]), x = a ? p : e(this.find(".fscaret")[1]), b = this.find(".fssel-value"), w = function (e) { return f * Math.round(e / f) }, W = function () { v && (x.text((w(u[1] * n) + l).toFixed(m) + d), a || p.text((w(u[0] * n) + l).toFixed(m) + d)); var e = s.width(), t = p.outerWidth(), i = x.outerWidth(), f = e - (t + i) / 2; b.css({ left: u[0] * e, width: (u[1] - u[0]) * e }), p.css({ left: u[0] * f + t / 2, "margin-left": -t / 2, "z-index": D ? 0 : 1 }), x.css({ left: u[1] * f + i / 2, "margin-left": -i / 2, "z-index": D ? 1 : 0 }), h && (a ? h(w(u[1] * n) + l) : h(w(u[0] * n) + l, w(u[1] * n) + l)) }, D = !0, O = !1; this.mousedown(function (e) { if (r) { O = !0; var t = s.width(), i = p.outerWidth(), l = t - (i + x.outerWidth()) / 2, n = e.target.className, f = e.pageX - s.offset().left - i / 2; if (f = f < 0 ? 0 : f > l ? l : f, a) u[1] = f / l, D = !0; else switch (n) { case "fscaret fss-left": D = !1, u[0] = f / l; break; case "fscaret fss-right": D = !0, u[1] = f / l; break; default: f < (u[0] + u[1]) / 2 * l ? (D = !1, u[0] = f / l) : (D = !0, u[1] = f / l) }if (W(), !event.preventDefault) return !1; event.preventDefault() } }); return e(document).mouseup(function (e) { O && r && (O = !1, u[1] = w(u[1] * n) / n, a || (u[0] = w(u[0] * n) / n), W()) }), this.mousemove(function (e) { if (r) { if (O) { var t = s.width(), i = p.outerWidth(), l = t - (i + x.outerWidth()) / 2, n = (e.target.className, e.pageX - s.offset().left - i / 2); n = n < 0 ? 0 : n > l ? l : n, a ? (u[1] = n / l, D = !0) : D ? (u[1] = n / l, u[1] < u[0] && (u[1] = u[0])) : (u[0] = n / l, u[0] > u[1] && (u[0] = u[1])), W() } if (!event.preventDefault) return !1; event.preventDefault() } }), this.getValue = function () { return a ? [u[1] * n + l] : [u[0] * n + l, u[1] * n + l] }, this.setValue = function () { a ? (u[1] = (arguments[0] - l) / n, W()) : arguments.length >= 2 && (u[0] = (arguments[0] - l) / n, u[1] = (arguments[1] - l) / n, W()) }, this.setEnabled = function (e) { (r = void 0 === e || e) ? o.removeClass("fsdisabled") : o.addClass("fsdisabled") }, this.setEnabled(r), W(), this } }(jQuery);